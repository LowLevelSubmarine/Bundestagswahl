<div id="svgContainer" #svgContainer>
  <svg class="mainsvg" >
    <!-- Data grid  Y-->

    <g *ngFor="let marker of yMarker">
      <line [attr.x1]="0" [attr.y1]="getYScala(marker)" [attr.x2]="xMaxValue* this.viewDimensions.xMultiplier" [attr.y2]="getYScala(marker)"
            [attr.style]="'stroke:grey; opacity:0.5;'"></line>
    </g>

    <g *ngFor="let marker of uniPos">
      <line [attr.x1]="(marker*this.viewDimensions.xMultiplier)+this.viewDimensions.xOffset" [attr.y1]="0" [attr.x2]="(marker*this.viewDimensions.xMultiplier)+this.viewDimensions.xOffset"
            [attr.y2]="(this.viewDimensions.yOffset* this.viewDimensions.yMultiplier)+20" [attr.style]="'stroke:grey; opacity:0.5;'"></line>
    </g>

    <!-- Gradients -->

    <g lchart-gradient [groups]="groups" [viewDimensions]="viewDimensions"></g>

    <!-- Data Lines -->

    <g *ngFor="let group of groups">
      <g *ngFor="let point of group.values; index as i">
        <g *ngIf="(i < group.values.length-1)" lchart-line [x1]="this.viewDimensions.getX(point.position)" [y1]="this.viewDimensions.getY(point.y)"
                [x2]="this.viewDimensions.getX(group.values[i+1].position)" [y2]="this.viewDimensions.getY(group.values[i+1].y)"
                [color]="getStrokeColor(group)"
                [groupname]="group.group" [gradient]="gradientComponent">
        </g>
      </g>
    </g>

    <!-- Data Points -->
    <g *ngFor="let group of groups">
      <g *ngFor="let point of group.values"
        lchart-circle-component
            [cx]="this.viewDimensions.getX(point.position)"
            [cy]="this.viewDimensions.getY(point.y)"
            [info]="point.info"
            [groupname]="group.group"
            [infoBubble]="infoBubble"
            [gradientComponent]="gradientComponent"
            [strokeColor]="group.color">
      </g>
    </g>

    <g lchart-info-bubble [viewDimensions]="viewDimensions" [gradient]="gradientComponent"></g>

  </svg>
</div>


